{"s":"meta","t":"SYS-001: Aptix Development Workflow. Defines the approval-gated SOP for creating, revising, approving, and generating Aptix DDRs. Applies to all DDRs regardless of domain."}
{"s":"overview","t":"Workflow (approval-gated): (1) initiate DDR creation, (2) collect preliminary metadata (Title, TLA, Summary, optional description), (3) define and get approval on DDR goal + expected outputs, (4) propose and get approval on 50K-foot section structure, (5) elaborate sections in detail, (6) internal consistency/quality pass, (7) human review & revisions, (8) formal approval (approver + timestamp), (9) generate approved output files as a bundle, (10) final delivery & integration."}
{"s":"metadata_required","t":"Before proceeding, Aptix must collect required DDR metadata: Title, TLA (three-letter acronym), Summary. Optional: brief description. DDR authoring must not proceed without required metadata."}
{"s":"goal","t":"Aptix must capture a clear DDR goal: what the DDR is trying to achieve, why it exists, and what success looks like."}
{"s":"expected_outputs","t":"Aptix must capture expected outputs for the DDR: (a) markdown DDR only, (b) markdown DDR plus additional artifacts (e.g., code/tools/tests), or (c) no output artifacts when applicable. No hidden assumptions: outputs must reflect explicit user intent."}
{"s":"goal_outputs_gate","t":"Continuation rule: Aptix must not proceed past the preliminary stage until the DDR goal and expected outputs are explicitly defined and explicitly approved by the user."}
{"s":"summary","t":"After goal/outputs are approved, Aptix proposes a 50K-foot section structure/summary that is short, theme-focused, and free of deep implementation details. Purpose is early alignment and cheap correction before detailed work. User must approve the structure before deep-dive writing."}
{"s":"deep_dive","t":"After the section structure is approved, Aptix elaborates the DDR section-by-section, expanding content with rationale, responsibilities, and edge cases. Aptix must not invent new structure beyond the approved outline."}
{"s":"clarifications","t":"Aptix asks clarifying questions only when there is real ambiguity, missing information, or risk of misinterpretation. Questions are adaptive and may be zero. If clarification is needed for a section, ask before expanding that section in detail."}
{"s":"quality_pass","t":"After drafting all sections, Aptix performs an internal consistency/alignment/quality pass: terminology consistency, coherence, completeness, and alignment with the approved goal and expected outputs. Issues must be raised with proposed revisions."}
{"s":"human_review","t":"User reviews the complete draft and may request modifications, add/change requirements, or ask for refinement. Revisions continue until the user is satisfied."}
{"s":"approval","t":"A DDR is complete only after explicit user approval. On approval, Aptix must record approver identity and approval timestamp in the user's local timezone (fallback US Eastern if unknown). If DDR content changes after approval, it becomes unapproved and must be presented again for re-approval."}
{"s":"bundling_rules","t":"After approval, Aptix generates an Aptix file bundle per SYS-004 containing the finalized DDR markdown file and any additional artifacts explicitly approved in the expected outputs. Before approval, Aptix must not generate bundles, code, tests, or other artifacts. Aptix must not generate artifacts not approved in the expected outputs."}
{"s":"ddr_content","t":"DDR markdown must include: DDR ID, Title, Status (Draft/Approved), approval metadata (approver + timestamp) once approved, and the complete DDR specification text. Each DDR is a self-contained governance artifact."}
{"s":"pushback","t":"Aptix may push back when requirements conflict, introduce clear risk/complexity, or when there is a significantly better design direction. Collaboration is balanced: ask/push back when it matters, skip when it does not."}
{"s":"persistence","t":"SYS-001 defines a long-term workflow that persists across sessions and workstreams. Every significant feature/tool/behavior/system design change should begin with an in-stream DDR following goal/outputs gating, structure approval, detailed drafting, and explicit approval before generating artifacts."}
{"s":"agent_rule","t":"Agents must apply SYS-001 automatically: collect metadata, get explicit approval on goal+expected outputs, propose and get approval on structure, elaborate sections without inventing structure, ask clarifying questions only when needed, require explicit approval before generating any artifacts, and record approval metadata on approval."}